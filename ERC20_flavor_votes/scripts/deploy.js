const { Web3 } = require('web3');
const fs = require('fs');
const path = require('path');

// Pre-compiled contract bytecode and ABI
const CONTRACT_BYTECODE = "0x610160604052348015610010575f5ffd5b5060405161546c38038061546c83398181016040528101906100329190611238565b8084806040518060400160405280600181526020017f31000000000000000000000000000000000000000000000000000000000000008152508787816003908161007c91906114db565b50806004908161008c91906114db565b5050506100a36005836101f760201b90919060201c565b61012081815250506100bf6006826101f760201b90919060201c565b6101408181525050818051906020012060e08181525050808051906020012061010081815250504660a081815250506100fc61024460201b60201c565b608081815250503073ffffffffffffffffffffffffffffffffffffffff1660c08173ffffffffffffffffffffffffffffffffffffffff16815250505050505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036101aa575f6040517f1e4fbdf70000000000000000000000000000000000000000000000000000000081526004016101a191906115b9565b60405180910390fd5b6101b98161029e60201b60201c565b506101ee336101cc61036160201b60201c565b600a6101d8919061173a565b846101e39190611784565b61036960201b60201c565b50505050611b92565b5f60208351101561021857610211836103ee60201b60201c565b905061023e565b826102288361045360201b60201c565b5f01908161023691906114db565b5060ff5f1b90505b92915050565b5f7f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60e0516101005146306040516020016102839594939291906117ec565b60405160208183030381529060405280519060200120905090565b5f60085f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508160085f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b5f6012905090565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036103d9575f6040517fec442f050000000000000000000000000000000000000000000000000000000081526004016103d091906115b9565b60405180910390fd5b6103ea5f838361045c60201b60201c565b5050565b5f5f829050601f8151111561043a57826040517f305a27a90000000000000000000000000000000000000000000000000000000081526004016104319190611885565b60405180910390fd5b805181610446906118d2565b5f1c175f1b915050919050565b5f819050919050565b61046d83838361047260201b60201c565b505050565b61048383838361053860201b60201c565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610522575f6104c561075160201b60201c565b90505f6104d661075a60201b60201c565b90508082111561051f5781816040517f1cb15d26000000000000000000000000000000000000000000000000000000008152600401610516929190611938565b60405180910390fd5b50505b61053383838361077d60201b60201c565b505050565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610588578060025f82825461057c919061195f565b92505081905550610656565b5f5f5f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054905081811015610611578381836040517fe450d38c00000000000000000000000000000000000000000000000000000000815260040161060893929190611992565b60405180910390fd5b8181035f5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081905550505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361069d578060025f82825403925050819055506106e7565b805f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825401925050819055505b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405161074491906119c7565b60405180910390a3505050565b5f600254905090565b5f79ffffffffffffffffffffffffffffffffffffffffffffffffffff8016905090565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036107dc576107d9600b61086d60201b610dc5176107ce8461088260201b60201c565b6108ef60201b60201c565b50505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361083b57610838600b61093760201b610dda1761082d8461088260201b60201c565b6108ef60201b60201c565b50505b61086861084d8461094c60201b60201c565b61085c8461094c60201b60201c565b836109b160201b60201c565b505050565b5f818361087a9190611a05565b905092915050565b5f79ffffffffffffffffffffffffffffffffffffffffffffffffffff80168211156108e75760d0826040517f6dfcc6500000000000000000000000000000000000000000000000000000000081526004016108de929190611a8b565b60405180910390fd5b819050919050565b5f5f61092b610902610c4760201b60201c565b61091b61091488610c5b60201b60201c565b868860201c565b87610cc360201b9092919060201c565b91509150935093915050565b5f81836109449190611ab2565b905092915050565b5f60095f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141580156109ec57505f81115b15610c42575f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614610b19575f5f610a8a600a5f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2061093760201b610dda17610a7f8661088260201b60201c565b6108ef60201b60201c565b79ffffffffffffffffffffffffffffffffffffffffffffffffffff16915079ffffffffffffffffffffffffffffffffffffffffffffffffffff1691508473ffffffffffffffffffffffffffffffffffffffff167fdec2bacdd2f05b59de34da9b523dff8be42e5e38e818c82fdb0bae774387a7248383604051610b0e929190611938565b60405180910390a250505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614610c41575f5f610bb2600a5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2061086d60201b610dc517610ba78661088260201b60201c565b6108ef60201b60201c565b79ffffffffffffffffffffffffffffffffffffffffffffffffffff16915079ffffffffffffffffffffffffffffffffffffffffffffffffffff1691508373ffffffffffffffffffffffffffffffffffffffff167fdec2bacdd2f05b59de34da9b523dff8be42e5e38e818c82fdb0bae774387a7248383604051610c36929190611938565b60405180910390a250505b5b505050565b5f610c56610ce460201b60201c565b905090565b5f5f825f018054905090505f8114610cb957610c8b835f01600183610c809190611aff565b610cf960201b60201c565b5f0160069054906101000a900479ffffffffffffffffffffffffffffffffffffffffffffffffffff16610cbb565b5f5b915050919050565b5f5f610cd8855f018585610d0b60201b60201c565b91509150935093915050565b5f610cf44361100560201b60201c565b905090565b5f825f528160205f2001905092915050565b5f5f5f858054905090505f811115610f1d575f610d3a87600184610d2f9190611aff565b610cf960201b60201c565b90505f815f015f9054906101000a900465ffffffffffff1690505f825f0160069054906101000a900479ffffffffffffffffffffffffffffffffffffffffffffffffffff1690508765ffffffffffff168265ffffffffffff161115610dcb576040517f2520601d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8765ffffffffffff168265ffffffffffff1603610e355786835f0160066101000a81548179ffffffffffffffffffffffffffffffffffffffffffffffffffff021916908379ffffffffffffffffffffffffffffffffffffffffffffffffffff160217905550610f0e565b8860405180604001604052808a65ffffffffffff1681526020018979ffffffffffffffffffffffffffffffffffffffffffffffffffff16815250908060018154018082558091505060019003905f5260205f20015f909190919091505f820151815f015f6101000a81548165ffffffffffff021916908365ffffffffffff1602179055506020820151815f0160066101000a81548179ffffffffffffffffffffffffffffffffffffffffffffffffffff021916908379ffffffffffffffffffffffffffffffffffffffffffffffffffff16021790555050505b80879550955050505050610ffd565b8560405180604001604052808765ffffffffffff1681526020018679ffffffffffffffffffffffffffffffffffffffffffffffffffff16815250908060018154018082558091505060019003905f5260205f20015f909190919091505f820151815f015f6101000a81548165ffffffffffff021916908365ffffffffffff1602179055506020820151815f0160066101000a81548179ffffffffffffffffffffffffffffffffffffffffffffffffffff021916908379ffffffffffffffffffffffffffffffffffffffffffffffffffff16021790555050505f8492509250505b935093915050565b5f65ffffffffffff8016821115611056576030826040517f6dfcc65000000000000000000000000000000000000000000000000000000000815260040161104d929190611b6b565b60405180910390fd5b819050919050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6110bd82611077565b810181811067ffffffffffffffff821117156110dc576110db611087565b5b80604052505050565b5f6110ee61105e565b90506110fa82826110b4565b919050565b5f67ffffffffffffffff82111561111957611118611087565b5b61112282611077565b9050602081019050919050565b8281835e5f83830152505050565b5f61114f61114a846110ff565b6110e5565b90508281526020810184848401111561116b5761116a611073565b5b61117684828561112f565b509392505050565b5f82601f8301126111925761119161106f565b5b81516111a284826020860161113d565b91505092915050565b5f819050919050565b6111bd816111ab565b81146111c7575f5ffd5b50565b5f815190506111d8816111b4565b92915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f611207826111de565b9050919050565b611217816111fd565b8114611221575f5ffd5b50565b5f815190506112328161120e565b92915050565b5f5f5f5f608085870312156112505761124f611067565b5b5f85015167ffffffffffffffff81111561126d5761126c61106b565b5b6112798782880161117e565b945050602085015167ffffffffffffffff81111561129a5761129961106b565b5b6112a68782880161117e565b93505060406112b7878288016111ca565b92505060606112c887828801611224565b91505092959194509250565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061132257607f821691505b602082108103611335576113346112de565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026113977fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8261135c565b6113a1868361135c565b95508019841693508086168417925050509392505050565b5f819050919050565b5f6113dc6113d76113d2846111ab565b6113b9565b6111ab565b9050919050565b5f819050919050565b6113f5836113c2565b611409611401826113e3565b848454611368565b825550505050565b5f5f905090565b611420611411565b61142b8184846113ec565b505050565b5b8181101561144e576114435f82611418565b600181019050611431565b5050565b601f821115611493576114648161133b565b61146d8461134d565b8101602085101561147c578190505b6114906114888561134d565b830182611430565b50505b505050565b5f82821c905092915050565b5f6114b35f1984600802611498565b1980831691505092915050565b5f6114cb83836114a4565b9150826002028217905092915050565b6114e4826112d4565b67ffffffffffffffff8111156114fd576114fc611087565b5b611507825461130b565b611512828285611452565b5f60209050601f831160018114611543575f8415611531578287015190505b61153b85826114c0565b8655506115a2565b601f1984166115518661133b565b5f5b8281101561157857848901518255600182019150602085019450602081019050611553565b868310156115955784890151611591601f8916826114a4565b8355505b6001600288020188555050505b505050505050565b6115b3816111fd565b82525050565b5f6020820190506115cc5f8301846115aa565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f8160011c9050919050565b5f5f8291508390505b6001851115611654578086048111156116305761162f6115d2565b5b600185161561163f5780820291505b808102905061164d856115ff565b9450611614565b94509492505050565b5f8261166c5760019050611727565b81611679575f9050611727565b816001811461168f5760028114611699576116c8565b6001915050611727565b60ff8411156116ab576116aa6115d2565b5b8360020a9150848211156116c2576116c16115d2565b5b50611727565b5060208310610133831016604e8410600b84101617156116fd5782820a9050838111156116f8576116f76115d2565b5b611727565b61170a848484600161160b565b92509050818404811115611721576117206115d2565b5b81810290505b9392505050565b5f60ff82169050919050565b5f611744826111ab565b915061174f8361172e565b925061177c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff848461165d565b905092915050565b5f61178e826111ab565b9150611799836111ab565b92508282026117a7816111ab565b915082820484148315176117be576117bd6115d2565b5b5092915050565b5f819050919050565b6117d7816117c5565b82525050565b6117e6816111ab565b82525050565b5f60a0820190506117ff5f8301886117ce565b61180c60208301876117ce565b61181960408301866117ce565b61182660608301856117dd565b61183360808301846115aa565b9695505050505050565b5f82825260208201905092915050565b5f611857826112d4565b611861818561183d565b935061187181856020860161112f565b61187a81611077565b840191505092915050565b5f6020820190508181035f83015261189d818461184d565b905092915050565b5f81519050919050565b5f819050602082019050919050565b5f6118c982516117c5565b80915050919050565b5f6118dc826118a5565b826118e6846118af565b90506118f1816118be565b925060208210156119315761192c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8360200360080261135c565b831692505b5050919050565b5f60408201905061194b5f8301856117dd565b61195860208301846117dd565b9392505050565b5f611969826111ab565b9150611974836111ab565b925082820190508082111561198c5761198b6115d2565b5b92915050565b5f6060820190506119a55f8301866115aa565b6119b260208301856117dd565b6119bf60408301846117dd565b949350505050565b5f6020820190506119da5f8301846117dd565b92915050565b5f79ffffffffffffffffffffffffffffffffffffffffffffffffffff82169050919050565b5f611a0f826119e0565b9150611a1a836119e0565b9250828201905079ffffffffffffffffffffffffffffffffffffffffffffffffffff811115611a4c57611a4b6115d2565b5b92915050565b5f819050919050565b5f611a75611a70611a6b84611a52565b6113b9565b61172e565b9050919050565b611a8581611a5b565b82525050565b5f604082019050611a9e5f830185611a7c565b611aab60208301846117dd565b9392505050565b5f611abc826119e0565b9150611ac7836119e0565b9250828203905079ffffffffffffffffffffffffffffffffffffffffffffffffffff811115611af957611af86115d2565b5b92915050565b5f611b09826111ab565b9150611b14836111ab565b9250828203905081811115611b2c57611b2b6115d2565b5b92915050565b5f819050919050565b5f611b55611b50611b4b84611b32565b6113b9565b61172e565b9050919050565b611b6581611b3b565b82525050565b5f604082019050611b7e5f830185611b5c565b611b8b60208301846117dd565b9392505050565b60805160a05160c05160e051610100516101205161014051613889611be35f395f6114af01525f61147401525f6118b701525f61189601525f610f8e01525f610fe401525f61100d01526138895ff3fe608060405234801561000f575f5ffd5b506004361061018c575f3560e01c80637ecebe00116100dc5780639ab24eb011610095578063d505accf1161006f578063d505accf146104c6578063dd62ed3e146104e2578063f1127ed814610512578063f2fde38b146105425761018c565b80639ab24eb01461044a578063a9059cbb1461047a578063c3cda520146104aa5761018c565b80637ecebe001461036c57806384b0196e1461039c5780638da5cb5b146103c05780638e539e8c146103de57806391ddadf41461040e57806395d89b411461042c5761018c565b80633a46b1a8116101495780635c19a95c116101235780635c19a95c146102e65780636fcfff451461030257806370a0823114610332578063715018a6146103625761018c565b80633a46b1a8146102685780634bf5d7e914610298578063587cde1e146102b65761018c565b806306fdde0314610190578063095ea7b3146101ae57806318160ddd146101de57806323b872dd146101fc578063313ce5671461022c5780633644e5151461024a575b5f5ffd5b61019861055e565b6040516101a59190612bac565b60405180910390f35b6101c860048036038101906101c39190612c5d565b6105ee565b6040516101d59190612cb5565b60405180910390f35b6101e6610610565b6040516101f39190612cdd565b60405180910390f35b61021660048036038101906102119190612cf6565b610619565b6040516102239190612cb5565b60405180910390f35b610234610647565b6040516102419190612d61565b60405180910390f35b61025261064f565b60405161025f9190612d92565b60405180910390f35b610282600480360381019061027d9190612c5d565b61065d565b60405161028f9190612cdd565b60405180910390f35b6102a06106d9565b6040516102ad9190612bac565b60405180910390f35b6102d060048036038101906102cb9190612dab565b61076d565b6040516102dd9190612de5565b60405180910390f35b61030060048036038101906102fb9190612dab565b6107d2565b005b61031c60048036038101906103179190612dab565b6107eb565b6040516103299190612e1c565b60405180910390f35b61034c60048036038101906103479190612dab565b6107fc565b6040516103599190612cdd565b60405180910390f35b61036a610841565b005b61038660048036038101906103819190612dab565b610854565b6040516103939190612cdd565b60405180910390f35b6103a4610865565b6040516103b79796959493929190612f26565b60405180910390f35b6103c861090a565b6040516103d59190612de5565b60405180910390f35b6103f860048036038101906103f39190612fa8565b610932565b6040516104059190612cdd565b60405180910390f35b610416610972565b6040516104239190612ff3565b60405180910390f35b610434610980565b6040516104419190612bac565b60405180910390f35b610464600480360381019061045f9190612dab565b610a10565b6040516104719190612cdd565b60405180910390f35b610494600480360381019061048f9190612c5d565b610a79565b6040516104a19190612cb5565b60405180910390f35b6104c460048036038101906104bf9190613060565b610a9b565b005b6104e060048036038101906104db91906130e9565b610b60565b005b6104fc60048036038101906104f79190613186565b610ca5565b6040516105099190612cdd565b60405180910390f35b61052c600480360381019061052791906131ee565b610d27565b604051610539919061329c565b60405180910390f35b61055c60048036038101906105579190612dab565b610d41565b005b60606003805461056d906132e2565b80601f0160208091040260200160405190810160405280929190818152602001828054610599906132e2565b80156105e45780601f106105bb576101008083540402835291602001916105e4565b820191905f5260205f20905b8154815290600101906020018083116105c757829003601f168201915b5050505050905090565b5f5f6105f8610def565b9050610605818585610df6565b600191505092915050565b5f600254905090565b5f5f610623610def565b9050610630858285610e08565b61063b858585610e9b565b60019150509392505050565b5f6012905090565b5f610658610f8b565b905090565b5f6106b561066a83611041565b600a5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206110ac90919063ffffffff16565b79ffffffffffffffffffffffffffffffffffffffffffffffffffff16905092915050565b60606106e361119c565b65ffffffffffff166106f3610972565b65ffffffffffff1614610732576040517f6ff0714000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6040518060400160405280601d81526020017f6d6f64653d626c6f636b6e756d6265722666726f6d3d64656661756c74000000815250905090565b5f60095f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b5f6107db610def565b90506107e781836111ab565b5050565b5f6107f5826112bb565b9050919050565b5f5f5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050919050565b610849611310565b6108525f611397565b565b5f61085e8261145a565b9050919050565b5f6060805f5f5f606061087661146b565b61087e6114a6565b46305f5f1b5f67ffffffffffffffff81111561089d5761089c613312565b5b6040519080825280602002602001820160405280156108cb5781602001602082028036833780820191505090505b507f0f00000000000000000000000000000000000000000000000000000000000000959493929190965096509650965096509650965090919293949596565b5f60085f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b5f61094f61093f83611041565b600b6110ac90919063ffffffff16565b79ffffffffffffffffffffffffffffffffffffffffffffffffffff169050919050565b5f61097b61119c565b905090565b60606004805461098f906132e2565b80601f01602080910402602001604051908101604052809291908181526020018280546109bb906132e2565b8015610a065780601f106109dd57610100808354040283529160200191610a06565b820191905f5260205f20905b8154815290600101906020018083116109e957829003601f168201915b5050505050905090565b5f610a56600a5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206114e1565b79ffffffffffffffffffffffffffffffffffffffffffffffffffff169050919050565b5f5f610a83610def565b9050610a90818585610e9b565b600191505092915050565b83421115610ae057836040517f4683af0e000000000000000000000000000000000000000000000000000000008152600401610ad79190612cdd565b60405180910390fd5b5f610b41610b397fe48329057bfd03d55e49b547132e39cffd9c1820ad7b9d4c5307691425d15adf898989604051602001610b1e949392919061333f565b60405160208183030381529060405280519060200120611543565b85858561155c565b9050610b4d818761158a565b610b5781886111ab565b50505050505050565b83421115610ba557836040517f62791302000000000000000000000000000000000000000000000000000000008152600401610b9c9190612cdd565b60405180910390fd5b5f7f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9888888610bd38c6115e1565b89604051602001610be996959493929190613382565b6040516020818303038152906040528051906020012090505f610c0b82611543565b90505f610c1a8287878761155c565b90508973ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610c8e57808a6040517f4b800e46000000000000000000000000000000000000000000000000000000008152600401610c859291906133e1565b60405180910390fd5b610c998a8a8a610df6565b50505050505050505050565b5f60015f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054905092915050565b610d2f612b00565b610d398383611634565b905092915050565b610d49611310565b5f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610db9575f6040517f1e4fbdf7000000000000000000000000000000000000000000000000000000008152600401610db09190612de5565b60405180910390fd5b610dc281611397565b50565b5f8183610dd29190613435565b905092915050565b5f8183610de79190613482565b905092915050565b5f33905090565b610e038383836001611693565b505050565b5f610e138484610ca5565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff811015610e955781811015610e86578281836040517ffb8f41b2000000000000000000000000000000000000000000000000000000008152600401610e7d939291906134cf565b60405180910390fd5b610e9484848484035f611693565b5b50505050565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610f0b575f6040517f96c6fd1e000000000000000000000000000000000000000000000000000000008152600401610f029190612de5565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610f7b575f6040517fec442f05000000000000000000000000000000000000000000000000000000008152600401610f729190612de5565b60405180910390fd5b610f86838383611862565b505050565b5f7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614801561100657507f000000000000000000000000000000000000000000000000000000000000000046145b15611033577f0000000000000000000000000000000000000000000000000000000000000000905061103e565b61103b611872565b90505b90565b5f5f61104b610972565b90508065ffffffffffff16831061109b5782816040517fecd3f81e000000000000000000000000000000000000000000000000000000008152600401611092929190613504565b60405180910390fd5b6110a483611907565b915050919050565b5f5f835f018054905090505f5f90505f8290506005831115611130575f6110d284611960565b846110dd919061352b565b90506110eb875f0182611afa565b5f015f9054906101000a900465ffffffffffff1665ffffffffffff168665ffffffffffff16101561111e5780915061112e565b60018161112b919061355e565b92505b505b5f61113f875f01878585611b0c565b90505f811461118e57611160875f0160018361115b919061352b565b611afa565b5f0160069054906101000a900479ffffffffffffffffffffffffffffffffffffffffffffffffffff16611190565b5f5b94505050505092915050565b5f6111a643611907565b905090565b5f6111b58361076d565b90508160095f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167f3134e8a2e6d97e929a7e54011ea5485d7d196dd5f0ba4d4ef95803e8e3fc257f60405160405180910390a46112b681836112b186611b81565b611b92565b505050565b5f611309611304600a5f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20611e02565b611e11565b9050919050565b611318610def565b73ffffffffffffffffffffffffffffffffffffffff1661133661090a565b73ffffffffffffffffffffffffffffffffffffffff161461139557611359610def565b6040517f118cdaa700000000000000000000000000000000000000000000000000000000815260040161138c9190612de5565b60405180910390fd5b565b5f60085f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508160085f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b5f61146482611e68565b9050919050565b60606114a160057f0000000000000000000000000000000000000000000000000000000000000000611eae90919063ffffffff16565b905090565b60606114dc60067f0000000000000000000000000000000000000000000000000000000000000000611eae90919063ffffffff16565b905090565b5f5f825f018054905090505f81146115395761150b835f01600183611506919061352b565b611afa565b5f0160069054906101000a900479ffffffffffffffffffffffffffffffffffffffffffffffffffff1661153b565b5f5b915050919050565b5f61155561154f610f8b565b83611f5b565b9050919050565b5f5f5f5f61156c88888888611f9b565b92509250925061157c8282612082565b829350505050949350505050565b5f611594836115e1565b90508082146115dc5782816040517f752d88c00000000000000000000000000000000000000000000000000000000081526004016115d3929190613591565b60405180910390fd5b505050565b5f60075f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f815480929190600101919050559050919050565b61163c612b00565b61168b82600a5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206121e490919063ffffffff16565b905092915050565b5f73ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603611703575f6040517fe602df050000000000000000000000000000000000000000000000000000000081526004016116fa9190612de5565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603611773575f6040517f94280d6200000000000000000000000000000000000000000000000000000000815260040161176a9190612de5565b60405180910390fd5b8160015f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081905550801561185c578273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040516118539190612cdd565b60405180910390a35b50505050565b61186d8383836122b3565b505050565b5f7f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f7f00000000000000000000000000000000000000000000000000000000000000007f000000000000000000000000000000000000000000000000000000000000000046306040516020016118ec9594939291906135b8565b60405160208183030381529060405280519060200120905090565b5f65ffffffffffff8016821115611958576030826040517f6dfcc65000000000000000000000000000000000000000000000000000000000815260040161194f92919061364b565b60405180910390fd5b819050919050565b5f6001821161197157819050611af5565b5f8290505f6001905070010000000000000000000000000000000082106119a157608082901c9150604081901b90505b6801000000000000000082106119c057604082901c9150602081901b90505b64010000000082106119db57602082901c9150601081901b90505b6201000082106119f457601082901c9150600881901b90505b6101008210611a0c57600882901c9150600481901b90505b60108210611a2357600482901c9150600281901b90505b60048210611a3357600181901b90505b600181600302901c90506001818581611a4f57611a4e613672565b5b048201901c90506001818581611a6857611a67613672565b5b048201901c90506001818581611a8157611a80613672565b5b048201901c90506001818581611a9a57611a99613672565b5b048201901c90506001818581611ab357611ab2613672565b5b048201901c90506001818581611acc57611acb613672565b5b048201901c9050611aee818581611ae657611ae5613672565b5b048211612361565b8103925050505b919050565b5f825f528160205f2001905092915050565b5f5b81831015611b76575f611b21848461236c565b90508465ffffffffffff16611b368783611afa565b5f015f9054906101000a900465ffffffffffff1665ffffffffffff161115611b6057809250611b70565b600181611b6d919061355e565b93505b50611b0e565b819050949350505050565b5f611b8b826107fc565b9050919050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614158015611bcd57505f81115b15611dfd575f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614611ce7575f5f611c58600a5f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20610dda611c5386612391565b6123fe565b79ffffffffffffffffffffffffffffffffffffffffffffffffffff16915079ffffffffffffffffffffffffffffffffffffffffffffffffffff1691508473ffffffffffffffffffffffffffffffffffffffff167fdec2bacdd2f05b59de34da9b523dff8be42e5e38e818c82fdb0bae774387a7248383604051611cdc92919061369f565b60405180910390a250505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614611dfc575f5f611d6d600a5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20610dc5611d6886612391565b6123fe565b79ffffffffffffffffffffffffffffffffffffffffffffffffffff16915079ffffffffffffffffffffffffffffffffffffffffffffffffffff1691508373ffffffffffffffffffffffffffffffffffffffff167fdec2bacdd2f05b59de34da9b523dff8be42e5e38e818c82fdb0bae774387a7248383604051611df192919061369f565b60405180910390a250505b5b505050565b5f815f01805490509050919050565b5f63ffffffff8016821115611e60576020826040517f6dfcc650000000000000000000000000000000000000000000000000000000008152600401611e579291906136ff565b60405180910390fd5b819050919050565b5f60075f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050919050565b606060ff5f1b8314611eca57611ec38361243d565b9050611f55565b818054611ed6906132e2565b80601f0160208091040260200160405190810160405280929190818152602001828054611f02906132e2565b8015611f4d5780601f10611f2457610100808354040283529160200191611f4d565b820191905f5260205f20905b815481529060010190602001808311611f3057829003601f168201915b505050505090505b92915050565b5f6040517f190100000000000000000000000000000000000000000000000000000000000081528360028201528260228201526042812091505092915050565b5f5f5f7f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0845f1c1115611fd7575f600385925092509250612078565b5f6001888888886040515f8152602001604052604051611ffa9493929190613726565b6020604051602081039080840390855afa15801561201a573d5f5f3e3d5ffd5b5050506020604051035190505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff160361206b575f60015f5f1b93509350935050612078565b805f5f5f1b935093509350505b9450945094915050565b5f600381111561209557612094613769565b5b8260038111156120a8576120a7613769565b5b03156121e057600160038111156120c2576120c1613769565b5b8260038111156120d5576120d4613769565b5b0361210c576040517ff645eedf00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600260038111156121205761211f613769565b5b82600381111561213357612132613769565b5b0361217757805f1c6040517ffce698f700000000000000000000000000000000000000000000000000000000815260040161216e9190612cdd565b60405180910390fd5b60038081111561218a57612189613769565b5b82600381111561219d5761219c613769565b5b036121df57806040517fd78bce0c0000000000000000000000000000000000000000000000000000000081526004016121d69190612d92565b60405180910390fd5b5b5050565b6121ec612b00565b825f018263ffffffff168154811061220757612206613796565b5b905f5260205f20016040518060400160405290815f82015f9054906101000a900465ffffffffffff1665ffffffffffff1665ffffffffffff1681526020015f820160069054906101000a900479ffffffffffffffffffffffffffffffffffffffffffffffffffff1679ffffffffffffffffffffffffffffffffffffffffffffffffffff1679ffffffffffffffffffffffffffffffffffffffffffffffffffff1681525050905092915050565b6122be8383836124af565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603612351575f6122fa610610565b90505f6123056126c8565b90508082111561234e5781816040517f1cb15d2600000000000000000000000000000000000000000000000000000000815260040161234592919061369f565b60405180910390fd5b50505b61235c8383836126eb565b505050565b5f8115159050919050565b5f600282841861237c91906137c3565b828416612389919061355e565b905092915050565b5f79ffffffffffffffffffffffffffffffffffffffffffffffffffff80168211156123f65760d0826040517f6dfcc6500000000000000000000000000000000000000000000000000000000081526004016123ed92919061382c565b60405180910390fd5b819050919050565b5f5f61243161240b610972565b612421612417886114e1565b868863ffffffff16565b876127a39092919063ffffffff16565b91509150935093915050565b60605f612449836127be565b90505f602067ffffffffffffffff81111561246757612466613312565b5b6040519080825280601f01601f1916602001820160405280156124995781602001600182028036833780820191505090505b5090508181528360208201528092505050919050565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036124ff578060025f8282546124f3919061355e565b925050819055506125cd565b5f5f5f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054905081811015612588578381836040517fe450d38c00000000000000000000000000000000000000000000000000000000815260040161257f939291906134cf565b60405180910390fd5b8181035f5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081905550505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603612614578060025f828254039250508190555061265e565b805f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825401925050819055505b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516126bb9190612cdd565b60405180910390a3505050565b5f79ffffffffffffffffffffffffffffffffffffffffffffffffffff8016905090565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361273757612734600b610dc561272f84612391565b6123fe565b50505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361278357612780600b610dda61277b84612391565b6123fe565b50505b61279e61278f8461076d565b6127988461076d565b83611b92565b505050565b5f5f6127b2855f01858561280c565b91509150935093915050565b5f5f60ff835f1c169050601f811115612803576040517fb3512b0c00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b80915050919050565b5f5f5f858054905090505f811115612a18575f61283587600184612830919061352b565b611afa565b90505f815f015f9054906101000a900465ffffffffffff1690505f825f0160069054906101000a900479ffffffffffffffffffffffffffffffffffffffffffffffffffff1690508765ffffffffffff168265ffffffffffff1611156128c6576040517f2520601d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8765ffffffffffff168265ffffffffffff16036129305786835f0160066101000a81548179ffffffffffffffffffffffffffffffffffffffffffffffffffff021916908379ffffffffffffffffffffffffffffffffffffffffffffffffffff160217905550612a09565b8860405180604001604052808a65ffffffffffff1681526020018979ffffffffffffffffffffffffffffffffffffffffffffffffffff16815250908060018154018082558091505060019003905f5260205f20015f909190919091505f820151815f015f6101000a81548165ffffffffffff021916908365ffffffffffff1602179055506020820151815f0160066101000a81548179ffffffffffffffffffffffffffffffffffffffffffffffffffff021916908379ffffffffffffffffffffffffffffffffffffffffffffffffffff16021790555050505b80879550955050505050612af8565b8560405180604001604052808765ffffffffffff1681526020018679ffffffffffffffffffffffffffffffffffffffffffffffffffff16815250908060018154018082558091505060019003905f5260205f20015f909190919091505f820151815f015f6101000a81548165ffffffffffff021916908365ffffffffffff1602179055506020820151815f0160066101000a81548179ffffffffffffffffffffffffffffffffffffffffffffffffffff021916908379ffffffffffffffffffffffffffffffffffffffffffffffffffff16021790555050505f8492509250505b935093915050565b60405180604001604052805f65ffffffffffff1681526020015f79ffffffffffffffffffffffffffffffffffffffffffffffffffff1681525090565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f612b7e82612b3c565b612b888185612b46565b9350612b98818560208601612b56565b612ba181612b64565b840191505092915050565b5f6020820190508181035f830152612bc48184612b74565b905092915050565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f612bf982612bd0565b9050919050565b612c0981612bef565b8114612c13575f5ffd5b50565b5f81359050612c2481612c00565b92915050565b5f819050919050565b612c3c81612c2a565b8114612c46575f5ffd5b50565b5f81359050612c5781612c33565b92915050565b5f5f60408385031215612c7357612c72612bcc565b5b5f612c8085828601612c16565b9250506020612c9185828601612c49565b9150509250929050565b5f8115159050919050565b612caf81612c9b565b82525050565b5f602082019050612cc85f830184612ca6565b92915050565b612cd781612c2a565b82525050565b5f602082019050612cf05f830184612cce565b92915050565b5f5f5f60608486031215612d0d57612d0c612bcc565b5b5f612d1a86828701612c16565b9350506020612d2b86828701612c16565b9250506040612d3c86828701612c49565b9150509250925092565b5f60ff82169050919050565b612d5b81612d46565b82525050565b5f602082019050612d745f830184612d52565b92915050565b5f819050919050565b612d8c81612d7a565b82525050565b5f602082019050612da55f830184612d83565b92915050565b5f60208284031215612dc057612dbf612bcc565b5b5f612dcd84828501612c16565b91505092915050565b612ddf81612bef565b82525050565b5f602082019050612df85f830184612dd6565b92915050565b5f63ffffffff82169050919050565b612e1681612dfe565b82525050565b5f602082019050612e2f5f830184612e0d565b92915050565b5f7fff0000000000000000000000000000000000000000000000000000000000000082169050919050565b612e6981612e35565b82525050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b612ea181612c2a565b82525050565b5f612eb28383612e98565b60208301905092915050565b5f602082019050919050565b5f612ed482612e6f565b612ede8185612e79565b9350612ee983612e89565b805f5b83811015612f19578151612f008882612ea7565b9750612f0b83612ebe565b925050600181019050612eec565b5085935050505092915050565b5f60e082019050612f395f83018a612e60565b8181036020830152612f4b8189612b74565b90508181036040830152612f5f8188612b74565b9050612f6e6060830187612cce565b612f7b6080830186612dd6565b612f8860a0830185612d83565b81810360c0830152612f9a8184612eca565b905098975050505050505050565b5f60208284031215612fbd57612fbc612bcc565b5b5f612fca84828501612c49565b91505092915050565b5f65ffffffffffff82169050919050565b612fed81612fd3565b82525050565b5f6020820190506130065f830184612fe4565b92915050565b61301581612d46565b811461301f575f5ffd5b50565b5f813590506130308161300c565b92915050565b61303f81612d7a565b8114613049575f5ffd5b50565b5f8135905061305a81613036565b92915050565b5f5f5f5f5f5f60c0878903121561307a57613079612bcc565b5b5f61308789828a01612c16565b965050602061309889828a01612c49565b95505060406130a989828a01612c49565b94505060606130ba89828a01613022565b93505060806130cb89828a0161304c565b92505060a06130dc89828a0161304c565b9150509295509295509295565b5f5f5f5f5f5f5f60e0888a03121561310457613103612bcc565b5b5f6131118a828b01612c16565b97505060206131228a828b01612c16565b96505060406131338a828b01612c49565b95505060606131448a828b01612c49565b94505060806131558a828b01613022565b93505060a06131668a828b0161304c565b92505060c06131778a828b0161304c565b91505092959891949750929550565b5f5f6040838503121561319c5761319b612bcc565b5b5f6131a985828601612c16565b92505060206131ba85828601612c16565b9150509250929050565b6131cd81612dfe565b81146131d7575f5ffd5b50565b5f813590506131e8816131c4565b92915050565b5f5f6040838503121561320457613203612bcc565b5b5f61321185828601612c16565b9250506020613222858286016131da565b9150509250929050565b61323581612fd3565b82525050565b5f79ffffffffffffffffffffffffffffffffffffffffffffffffffff82169050919050565b6132698161323b565b82525050565b604082015f8201516132835f85018261322c565b5060208201516132966020850182613260565b50505050565b5f6040820190506132af5f83018461326f565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f60028204905060018216806132f957607f821691505b60208210810361330c5761330b6132b5565b5b50919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b5f6080820190506133525f830187612d83565b61335f6020830186612dd6565b61336c6040830185612cce565b6133796060830184612cce565b95945050505050565b5f60c0820190506133955f830189612d83565b6133a26020830188612dd6565b6133af6040830187612dd6565b6133bc6060830186612cce565b6133c96080830185612cce565b6133d660a0830184612cce565b979650505050505050565b5f6040820190506133f45f830185612dd6565b6134016020830184612dd6565b9392505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f61343f8261323b565b915061344a8361323b565b9250828201905079ffffffffffffffffffffffffffffffffffffffffffffffffffff81111561347c5761347b613408565b5b92915050565b5f61348c8261323b565b91506134978361323b565b9250828203905079ffffffffffffffffffffffffffffffffffffffffffffffffffff8111156134c9576134c8613408565b5b92915050565b5f6060820190506134e25f830186612dd6565b6134ef6020830185612cce565b6134fc6040830184612cce565b949350505050565b5f6040820190506135175f830185612cce565b6135246020830184612fe4565b9392505050565b5f61353582612c2a565b915061354083612c2a565b925082820390508181111561355857613557613408565b5b92915050565b5f61356882612c2a565b915061357383612c2a565b925082820190508082111561358b5761358a613408565b5b92915050565b5f6040820190506135a45f830185612dd6565b6135b16020830184612cce565b9392505050565b5f60a0820190506135cb5f830188612d83565b6135d86020830187612d83565b6135e56040830186612d83565b6135f26060830185612cce565b6135ff6080830184612dd6565b9695505050505050565b5f819050919050565b5f819050919050565b5f61363561363061362b84613609565b613612565b612d46565b9050919050565b6136458161361b565b82525050565b5f60408201905061365e5f83018561363c565b61366b6020830184612cce565b9392505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f6040820190506136b25f830185612cce565b6136bf6020830184612cce565b9392505050565b5f819050919050565b5f6136e96136e46136df846136c6565b613612565b612d46565b9050919050565b6136f9816136cf565b82525050565b5f6040820190506137125f8301856136f0565b61371f6020830184612cce565b9392505050565b5f6080820190506137395f830187612d83565b6137466020830186612d52565b6137536040830185612d83565b6137606060830184612d83565b95945050505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f6137cd82612c2a565b91506137d883612c2a565b9250826137e8576137e7613672565b5b828204905092915050565b5f819050919050565b5f61381661381161380c846137f3565b613612565b612d46565b9050919050565b613826816137fc565b82525050565b5f60408201905061383f5f83018561381d565b61384c6020830184612cce565b939250505056fea264697066735822122091b110b1d004e27be36b4bee1713696a29fdabf4e74a0463f160a5e53e2a3c9a64736f6c634300081e0033";

const CONTRACT_ABI = [{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"initialSupply_","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"CheckpointUnorderedInsertion","type":"error"},{"inputs":[],"name":"ECDSAInvalidSignature","type":"error"},{"inputs":[{"internalType":"uint256","name":"length","type":"uint256"}],"name":"ECDSAInvalidSignatureLength","type":"error"},{"inputs":[{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"ECDSAInvalidSignatureS","type":"error"},{"inputs":[{"internalType":"uint256","name":"increasedSupply","type":"uint256"},{"internalType":"uint256","name":"cap","type":"uint256"}],"name":"ERC20ExceededSafeSupply","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientAllowance","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientBalance","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC20InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC20InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC20InvalidSender","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"name":"ERC20InvalidSpender","type":"error"},{"inputs":[{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"ERC2612ExpiredSignature","type":"error"},{"inputs":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC2612InvalidSigner","type":"error"},{"inputs":[{"internalType":"uint256","name":"timepoint","type":"uint256"},{"internalType":"uint48","name":"clock","type":"uint48"}],"name":"ERC5805FutureLookup","type":"error"},{"inputs":[],"name":"ERC6372InconsistentClock","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"currentNonce","type":"uint256"}],"name":"InvalidAccountNonce","type":"error"},{"inputs":[],"name":"InvalidShortString","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[{"internalType":"uint8","name":"bits","type":"uint8"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"SafeCastOverflowedUintDowncast","type":"error"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"name":"StringTooLong","type":"error"},{"inputs":[{"internalType":"uint256","name":"expiry","type":"uint256"}],"name":"VotesExpiredSignature","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"delegator","type":"address"},{"indexed":true,"internalType":"address","name":"fromDelegate","type":"address"},{"indexed":true,"internalType":"address","name":"toDelegate","type":"address"}],"name":"DelegateChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"delegate","type":"address"},{"indexed":false,"internalType":"uint256","name":"previousVotes","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newVotes","type":"uint256"}],"name":"DelegateVotesChanged","type":"event"},{"anonymous":false,"inputs":[],"name":"EIP712DomainChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"CLOCK_MODE","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint32","name":"pos","type":"uint32"}],"name":"checkpoints","outputs":[{"components":[{"internalType":"uint48","name":"_key","type":"uint48"},{"internalType":"uint208","name":"_value","type":"uint208"}],"internalType":"struct Checkpoints.Checkpoint208","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"clock","outputs":[{"internalType":"uint48","name":"","type":"uint48"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"delegatee","type":"address"}],"name":"delegate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"delegatee","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"delegateBySig","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"delegates","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"eip712Domain","outputs":[{"internalType":"bytes1","name":"fields","type":"bytes1"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"version","type":"string"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"verifyingContract","type":"address"},{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"uint256[]","name":"extensions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"timepoint","type":"uint256"}],"name":"getPastTotalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"timepoint","type":"uint256"}],"name":"getPastVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"getVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"numCheckpoints","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}];

async function main() {
  console.log("🚀 Starting ERC20 Votes Token deployment...");

  // Constructor parameters - these will be modified by Bolt based on user input
  const TOKEN_NAME = "VotesToken";
  const TOKEN_SYMBOL = "VOTE";
  const INITIAL_SUPPLY = 1000000; // 1 million tokens (without decimals)
  const OWNER_ADDRESS = process.env.OWNER_ADDRESS || "0x0000000000000000000000000000000000000000"; // Default to deployer if not specified

  console.log(`\n📋 Deployment parameters:`);
  console.log(`   Name: ${TOKEN_NAME}`);
  console.log(`   Symbol: ${TOKEN_SYMBOL}`);
  console.log(`   Initial Supply: ${INITIAL_SUPPLY.toLocaleString()} tokens`);
  console.log(`   Owner: ${OWNER_ADDRESS === "0x0000000000000000000000000000000000000000" ? "Deployer Address" : OWNER_ADDRESS}`);

  try {
    // Get configuration from environment
    const PRIVATE_KEY = process.env.PRIVATE_KEY;
    const RPC_URL = process.env.RPC_URL || "https://evm-rpc-testnet.sei-apis.com";

    if (!PRIVATE_KEY) {
      console.error("\n❌ Error: PRIVATE_KEY environment variable is required");
      console.log("\nUsage:");
      console.log("PRIVATE_KEY=your_private_key npm run deploy");
      console.log("PRIVATE_KEY=your_private_key OWNER_ADDRESS=0x... npm run deploy");
      process.exit(1);
    }

    // Initialize Web3
    const web3 = new Web3(RPC_URL);
    
    // Create account from private key
    const account = web3.eth.accounts.privateKeyToAccount('0x' + PRIVATE_KEY.replace('0x', ''));
    web3.eth.accounts.wallet.add(account);
    
    console.log(`\n🔑 Deployer: ${account.address}`);

    // Determine the actual owner address
    const actualOwner = OWNER_ADDRESS === "0x0000000000000000000000000000000000000000" ? account.address : OWNER_ADDRESS;

    // Check balance
    const balance = await web3.eth.getBalance(account.address);
    console.log(`   Balance: ${web3.utils.fromWei(balance, 'ether')} SEI`);

    if (balance === '0') {
      console.error("\n❌ Error: Insufficient balance. Please get test SEI from the faucet:");
      console.log("   https://atlantic-2.app.sei.io/faucet");
      process.exit(1);
    }

    // Create contract instance
    const contract = new web3.eth.Contract(CONTRACT_ABI);

    // Prepare deployment
    console.log("\n⏳ Deploying contract...");
    const deployTx = contract.deploy({
      data: CONTRACT_BYTECODE,
      arguments: [TOKEN_NAME, TOKEN_SYMBOL, INITIAL_SUPPLY, actualOwner]
    });

    // Estimate gas
    const gas = await deployTx.estimateGas({ from: account.address });
    console.log(`   Estimated gas: ${gas}`);

    // Send deployment transaction
    const gasPrice = await web3.eth.getGasPrice();
    const gasLimit = BigInt(gas) * BigInt(120) / BigInt(100); // Add 20% buffer
    
    const newContract = await deployTx.send({
      from: account.address,
      gas: gasLimit.toString(),
      gasPrice: gasPrice.toString()
    });

    // Get the deployed contract address
    const tokenAddress = newContract.options.address;

    console.log(`\n✅ Token deployed successfully!`);
    console.log(`   Address: ${tokenAddress}`);

    // Get decimals and total supply for verification
    const decimals = await newContract.methods.decimals().call();
    const totalSupply = await newContract.methods.totalSupply().call();
    const owner = await newContract.methods.owner().call();
    
    console.log(`\n📊 Token details:`);
    console.log(`   Decimals: ${decimals}`);
    console.log(`   Total Supply: ${web3.utils.fromWei(totalSupply, 'ether')} ${TOKEN_SYMBOL}`);
    console.log(`   Owner: ${owner}`);
    console.log(`   Voting Features: ✅ Enabled`);

    // Save deployment info
    const deploymentInfo = {
      network: "sei-testnet",
      tokenAddress: tokenAddress,
      tokenName: TOKEN_NAME,
      tokenSymbol: TOKEN_SYMBOL,
      decimals: Number(decimals),
      initialSupply: INITIAL_SUPPLY,
      totalSupply: totalSupply.toString(),
      owner: owner,
      deploymentTransaction: "See explorer for transaction details",
      deployer: account.address,
      deployedAt: new Date().toISOString(),
      features: {
        votes: true,
        permit: true,
        ownable: true
      }
    };

    // Save deployment info to deployments directory
    const deploymentsPath = path.join(__dirname, "../deployments");
    if (!fs.existsSync(deploymentsPath)) {
      fs.mkdirSync(deploymentsPath, { recursive: true });
    }

    fs.writeFileSync(
      path.join(deploymentsPath, "sei-testnet-deployment.json"),
      JSON.stringify(deploymentInfo, null, 2)
    );

    // Save contract ABI
    fs.writeFileSync(
      path.join(deploymentsPath, "ERC20_flavor_votes.json"),
      JSON.stringify({
        abi: CONTRACT_ABI,
        bytecode: CONTRACT_BYTECODE
      }, null, 2)
    );

    console.log(`\n📁 Deployment info saved to deployments/`);

    // SEI Testnet specific information
    console.log("\n🌊 SEI Testnet Deployment Info:");
    console.log(`   Network: SEI Atlantic-2 Testnet`);
    console.log(`   Chain ID: 1328`);
    console.log(`   Explorer: https://testnet.seistream.app/contracts/${tokenAddress}`);
    console.log(`   Faucet: https://atlantic-2.app.sei.io/faucet`);
    
    console.log("\n🎉 Deployment complete!");

  } catch (error) {
    console.error("\n❌ Deployment failed:", error.message);
    process.exit(1);
  }
}

main();